import React, { useState, useEffect } from 'react';
import { DndProvider, useDrag, useDrop } from 'react-dnd';
import { HTML5Backend } from 'react-dnd-html5-backend';
import confetti from 'canvas-confetti';
import { toast, Toaster } from 'sonner';
import svgPaths from '@/imports/svg-c4adqmk6um';
import imgGeminiGeneratedImage28Owa628Owa628OwRemovebgPreview1 from './components/assets/rocketcat.png';
import imgMusicCat from './components/assets/musiccat.png';
import imgWorkingCat from './components/assets/workingcat.png';
import imgSleepyCat from './components/assets/sleepingcat.png';
import imgGardenerCat from './components/assets/gardencat.png';

interface Goal {
  id: number;
  text: string;
  completed: boolean;
}

interface DroppedSticker {
  id: string;
  src: string;
  x: number;
  y: number;
}

const INITIAL_GOALS: Goal[] = [
  { id: 1, text: 'squash 3 tiny bugs', completed: false },
  { id: 2, text: 'clean up my figma layers', completed: true },
  { id: 3, text: 'sketch a new sticker idea', completed: false },
  { id: 4, text: 'update my project "read me"', completed: false },
  { id: 5, text: "finally name my 'frame 452'", completed: false },
];

const STICKERS = [
  { id: 'music-cat', src: imgMusicCat, left: 150, top: 10, rotation: 330 },
  { id: 'working-cat', src: imgWorkingCat, left: 151, top: 38, rotation: 0 },
  { id: 'sleepy-cat', src: imgSleepyCat, left: 57, top: 120, rotation: 0 },
  { id: 'gardener-cat', src: imgGardenerCat, left: 96, top: 51, rotation: 0 },
  { id: 'cat-5', src: imgGeminiGeneratedImage28Owa628Owa628OwRemovebgPreview1, left: 113, top: 96, rotation: 0 },
];

function DraggableSticker({ sticker }: { sticker: typeof STICKERS[0] }) {
  const [{ isDragging }, drag] = useDrag(() => ({
    type: 'sticker',
    item: { src: sticker.src },
    collect: (monitor) => ({
      isDragging: monitor.isDragging(),
    }),
  }));

  return (
    <div
      ref={drag as any}
      style={{
        position: 'absolute',
        left: sticker.left,
        top: sticker.top,
        opacity: isDragging ? 0.5 : 1,
        cursor: 'grab',
        transform: `rotate(${sticker.rotation}deg)`,
        zIndex: 5,
      }}
    >
      <img 
        src={sticker.src} 
        alt="" 
        className="pointer-events-none" 
        style={{ width: '245px', height: '203px', objectFit: 'contain' }} 
      />
    </div>
  );
}

function DroppedStickerComponent({ sticker, onRemove }: { sticker: DroppedSticker; onRemove: () => void }) {
  return (
    <div
      style={{
        position: 'absolute',
        left: sticker.x,
        top: sticker.y,
        cursor: 'pointer',
        zIndex: 100,
      }}
      onClick={onRemove}
      title="Click to remove"
    >
      <img src={sticker.src} alt="" style={{ width: '150px', height: 'auto' }} />
    </div>
  );
}

function DropZone({ children, onDrop }: { children: React.ReactNode; onDrop: (src: string, x: number, y: number) => void }) {
  const [, drop] = useDrop(() => ({
    accept: 'sticker',
    drop: (item: { src: string }, monitor) => {
      const offset = monitor.getClientOffset();
      const dropZoneElement = document.getElementById('drop-zone');
      if (offset && dropZoneElement) {
        const rect = dropZoneElement.getBoundingClientRect();
        const x = offset.x - rect.left - 75;
        const y = offset.y - rect.top - 75;
        onDrop(item.src, x, y);
      }
    },
  }));

  return (
    <div ref={drop as any} id="drop-zone" className="relative">
      {children}
    </div>
  );
}

export default function App() {
  const [goals, setGoals] = useState<Goal[]>(() => {
    const saved = localStorage.getItem('little-wins-goals');
    return saved ? JSON.parse(saved) : INITIAL_GOALS;
  });

  const [dateText, setDateText] = useState(() => {
    const saved = localStorage.getItem('little-wins-date');
    return saved || '17th January';
  });

  const [logbookText, setLogbookText] = useState(() => {
    const saved = localStorage.getItem('little-wins-logbook');
    return saved || "Sent 3 emails. Expecting 3 treats in return.\nGentle reminder: You are doing great, human.";
  });

  const [isAnimating, setIsAnimating] = useState(false);
  const [droppedStickers, setDroppedStickers] = useState<DroppedSticker[]>([]);

  useEffect(() => {
    localStorage.setItem('little-wins-goals', JSON.stringify(goals));
  }, [goals]);

  useEffect(() => {
    localStorage.setItem('little-wins-date', dateText);
  }, [dateText]);

  useEffect(() => {
    localStorage.setItem('little-wins-logbook', logbookText);
  }, [logbookText]);

  const toggleGoal = (id: number) => {
    setGoals((prev) =>
      prev.map((goal) => (goal.id === id ? { ...goal, completed: !goal.completed } : goal))
    );
  };

  const updateGoalText = (id: number, newText: string) => {
  setGoals(goals.map(goal => 
    goal.id === id ? { ...goal, text: newText } : goal
  ));
};

  const handleCelebrate = () => {
    // High-density confetti burst
    const count = 200;
    const defaults = {
      origin: { y: 0.7 },
      zIndex: 9999,
    };

    function fire(particleRatio: number, opts: any) {
      confetti({
        ...defaults,
        ...opts,
        particleCount: Math.floor(count * particleRatio),
      });
    }

    fire(0.25, {
      spread: 26,
      startVelocity: 55,
    });

    fire(0.2, {
      spread: 60,
    });

    fire(0.35, {
      spread: 100,
      decay: 0.91,
      scalar: 0.8,
    });

    fire(0.1, {
      spread: 120,
      startVelocity: 25,
      decay: 0.92,
      scalar: 1.2,
    });

    fire(0.1, {
      spread: 120,
      startVelocity: 45,
    });
  };

  const handleInviteFriend = async () => {
    try {
      await navigator.clipboard.writeText(window.location.href);
      toast('Link Copied! ðŸ¾', {
        position: 'bottom-center',
        duration: 2000,
      });
    } catch (err) {
      toast('Failed to copy link', {
        position: 'bottom-center',
        duration: 2000,
      });
    }
  };

  const handleSendToJar = () => {
    if (!logbookText.trim()) return;

    const noteElement = document.getElementById('sticky-note-group');
    if (!noteElement) return;

    setIsAnimating(true);

    // After animation completes
    setTimeout(() => {
      const jar = document.getElementById('memory-jar');
      if (jar) {
        jar.classList.add('animate-shake');
        setTimeout(() => {
          jar.classList.remove('animate-shake');
        }, 600);
      }
      setLogbookText('');
      setIsAnimating(false);
    }, 1000);
  };

  const handleDropSticker = (src: string, x: number, y: number) => {
    setDroppedStickers((prev) => [
      ...prev,
      {
        id: `${Date.now()}-${Math.random()}`,
        src,
        x,
        y,
      },
    ]);
  };

  const removeSticker = (id: string) => {
    setDroppedStickers((prev) => prev.filter((s) => s.id !== id));
  };

  return (
    <DndProvider backend={HTML5Backend}>
      <style>{`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          10%, 30%, 50%, 70%, 90% { transform: translateX(-4px); }
          20%, 40%, 60%, 80% { transform: translateX(4px); }
        }
        .animate-shake {
          animation: shake 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .note-flying {
          transition: transform 1s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.8s;
          transform: translate(324px, 468px) scale(0);
          opacity: 0;
        }
      `}</style>
      
      <div className="bg-[#ffecd3] relative size-full min-h-screen overflow-hidden">
        <Toaster />
        
        {/* Decorative paw print */}
        <div className="absolute flex inset-[2.4%_1.33%_80.09%_86.8%] items-center justify-center">
          <div className="flex-none h-[117px] rotate-[15deg] w-[126px]">
            <svg className="block size-full" fill="none" preserveAspectRatio="none" viewBox="0 0 126 117">
              <path clipRule="evenodd" d={svgPaths.p1b764e80} fill="var(--fill-0, #815439)" fillRule="evenodd" />
            </svg>
          </div>
        </div>

        {/* Daily Checklist Card */}
        <DropZone onDrop={handleDropSticker}>
          <div className="absolute bg-[#fffaf3] h-[627px] left-[640px] overflow-visible shadow-[0px_4px_11.7px_0px_rgba(151,103,49,0.27)] top-[102px] w-[547px]">
            {/* Dropped stickers */}
            {droppedStickers.map((sticker) => (
              <DroppedStickerComponent key={sticker.id} sticker={sticker} onRemove={() => removeSticker(sticker.id)} />
            ))}

            {/* Editable Date */}
            <input
              type="text"
              value={dateText}
              onChange={(e) => setDateText(e.target.value)}
              className="absolute font-['Playpen_Sans',sans-serif] font-bold leading-[normal] left-[40px] text-[#5c3b27] text-[34px] top-[26px] bg-transparent border-none outline-none focus:outline-1 focus:outline-[#5c3b27] focus:outline-dashed px-2"
              style={{ width: '320px' }}
            />

{/* Interactive Goals with Paw Checkboxes and Editable Text */}
{goals.map((goal, index) => (
  <div key={goal.id} className="absolute left-[40px] flex items-center gap-3 w-[80%]" style={{ top: `${110 + index * 61}px` }}>
    <button
      onClick={() => toggleGoal(goal.id)}
      className="flex-shrink-0 w-[26px] h-[24px] cursor-pointer hover:scale-110 transition-transform"
      aria-label={goal.completed ? 'Uncheck task' : 'Check task'}
    >
      <svg className="block size-full" fill="none" preserveAspectRatio="none" viewBox="0 0 26 24">
        <path
          d={svgPaths.p3de2a800}
          fill={goal.completed ? 'var(--fill-0, #5C3B27)' : 'none'}
          stroke="var(--stroke-0, #5C3B27)"
          strokeWidth="1.5"
        />
      </svg>
    </button>
    
    {/* HIGHLIGHT: Changed <p> to <input> for editability */}
    <input
      type="text"
      value={goal.text}
      onChange={(e) => {
        const newGoals = goals.map(g => 
          g.id === goal.id ? { ...g, text: e.target.value } : g
        );
        setGoals(newGoals); // Updates state immediately as you type
      }}
      className={`font-['Playpen_Sans',sans-serif] font-normal leading-[normal] text-[22px] transition-all bg-transparent border-none outline-none w-full ${
        goal.completed ? 'line-through text-[#a89080]' : 'text-[#815439]'
      }`}
      style={{ borderBottom: '1px solid transparent' }}
      onFocus={(e) => e.target.style.borderBottom = '1px dashed #dcb9a1'} // Visual hint when editing
      onBlur={(e) => e.target.style.borderBottom = '1px solid transparent'}
    />
  </div>
))}

            <p className="absolute font-['Playpen_Sans',sans-serif] font-bold leading-[normal] left-[490px] text-[#5c3b27] text-[14px] top-[594px]">
              2026
            </p>

            <div className="absolute h-0 left-[38px] top-[86px] w-[364px]">
              <svg className="block w-full" fill="none" preserveAspectRatio="none" viewBox="0 0 364 1">
                <path d="M0 0.5H364" stroke="var(--stroke-0, #5C3B27)" />
              </svg>
            </div>

            <div className="absolute h-[150px] left-[386px] top-[-7px] w-[181px] pointer-events-none">
              <img alt="" className="absolute inset-0 max-w-none object-cover pointer-events-none size-full" src={imgGeminiGeneratedImage28Owa628Owa628OwRemovebgPreview1} />
            </div>
          </div>
        </DropZone>

        {/* Sidebar */}
        <div className="absolute bg-[#fff7ec] h-[411px] left-[-38px] overflow-clip rounded-[10px] shadow-[0px_4px_11.7px_0px_rgba(151,103,49,0.27)] top-[113px] w-[92px] z-10">
          <div className="absolute flex h-[122px] items-center justify-center left-[64px] top-[232px] translate-x-[-50%] w-[38px]">
            <div className="flex-none rotate-[270deg]">
              <p className="font-['Playpen_Sans',sans-serif] font-semibold leading-[normal] relative text-[#815439] text-[25px] text-center">
                little wins
              </p>
            </div>
          </div>

          <div className="absolute flex inset-[89.54%_18.48%_4.14%_55.43%] items-center justify-center">
            <div className="flex-none h-[24px] rotate-[270deg] w-[26px]">
              <svg className="block size-full" fill="none" preserveAspectRatio="none" viewBox="0 0 26 24">
                <path clipRule="evenodd" d={svgPaths.p38449dc0} fill="var(--fill-0, #815439)" fillRule="evenodd" />
              </svg>
            </div>
          </div>

          {/* Celebrate Button */}
          <button
            onClick={handleCelebrate}
            className="absolute left-[51px] size-[24px] top-[24px] cursor-pointer hover:scale-110 transition-transform z-20"
            title="Celebrate!"
          >
            <svg className="block size-full" fill="none" preserveAspectRatio="none" viewBox="0 0 24 24">
              <path d={svgPaths.p2fcb600} fill="var(--fill-0, #5C3B27)" />
            </svg>
          </button>

          {/* Share/Invite Button */}
          <button
            onClick={handleInviteFriend}
            className="absolute left-[51px] size-[24px] top-[71px] cursor-pointer hover:scale-110 transition-transform z-20"
            title="Invite Friend"
          >
            <svg className="block size-full" fill="none" preserveAspectRatio="none" viewBox="0 0 24 24">
              <path d={svgPaths.p3b154800} fill="var(--fill-0, #5C3B27)" />
            </svg>
          </button>

          {/* Heart */}
          <div className="absolute left-[53px] size-[24px] top-[118px]">
            <svg className="block size-full" fill="none" preserveAspectRatio="none" viewBox="0 0 24 24">
              <path d={svgPaths.p2dc77e00} fill="var(--fill-0, #5C3B27)" />
            </svg>
          </div>
        </div>

        {/* My Mood Title */}
        <p className="absolute font-['Playpen_Sans',sans-serif] font-semibold leading-[normal] left-[253px] text-[#5c3b27] text-[39px] text-center top-[458px] translate-x-[-50%]">
          my mood
        </p>

        {/* Sticker Library - Individual Draggable Stickers */}
        <div className="absolute left-[42px] top-[467px] w-[314px] h-[299px]">
          {STICKERS.map((sticker) => (
            <DraggableSticker key={sticker.id} sticker={sticker} />
          ))}
        </div>

        {/* Memory Jar with glass effect */}
        <div
          id="memory-jar"
          className="absolute h-[234px] left-[444px] top-[495px] w-[136px]"
          style={{ backdropFilter: 'blur(8px)' }}
        >
<svg width="138" height="234" viewBox="0 0 138 234" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M54.1731 0.0627647C53.1582 0.129618 50.063 0.341937 47.295 0.534772C32.0735 1.59469 21.8278 4.02696 20.2643 6.95206C20.0378 7.37569 19.9197 10.7688 19.9392 16.2971L19.969 24.977L18.3713 26.5103C16.9333 27.8901 16.7769 28.186 16.8105 29.468C16.8427 30.6888 17.0463 31.0718 18.2371 32.1512C19.0011 32.844 19.9254 33.5054 20.2908 33.6217C21.1799 33.9042 21.4232 35.0663 21.1859 37.899C20.9145 41.1409 19.7009 42.7786 14.4001 47.0566C11.1137 49.7092 6.19398 55.2232 6.19398 56.2542C6.19398 56.4316 6.07789 56.6268 5.9363 56.6886C5.53636 56.8623 3.67491 60.9081 2.7935 63.5194L2 65.8711V139.612V213.352L2.819 215.032C4.3493 218.171 9.33812 222.279 14.4467 224.608C27.3367 230.483 48.5753 234.024 70.7813 234C80.1248 233.989 90.9634 233.125 99.8036 231.685C119.786 228.429 133.218 222.54 136.993 215.38L137.885 213.688L137.973 140.868C138.047 79.2885 137.987 67.6973 137.588 65.778C136.889 62.4252 135.207 58.328 133.39 55.5544C131.683 52.9485 127.36 48.3154 125.135 46.7072C123.461 45.4971 120.63 42.6983 119.66 41.2951C119.034 40.3887 118.928 39.7759 118.928 37.0618V33.8884L120.542 32.8839C122.683 31.5509 123.51 29.9168 122.839 28.3416C122.581 27.7338 121.821 26.7586 121.152 26.1737L119.935 25.1108V16.2951V7.47984L118.596 6.20525C116.134 3.85932 107.548 1.80869 96.2807 0.875088C93.6972 0.661089 91.055 0.409127 90.4091 0.315398C89.009 0.112485 56.8274 -0.111929 54.1731 0.0627647ZM79.6725 3.22471C92.3447 3.64028 103.623 4.74152 110.372 6.22205C112.776 6.74948 116.244 7.99417 116.244 8.32979C116.244 9.33763 108.514 11.1511 100.307 12.0679C89.0103 13.3304 86.1212 13.4631 70.1102 13.4547C54.4372 13.4466 52.1972 13.3482 40.2491 12.1418C31.3961 11.2478 23.6409 9.43136 23.6409 8.25117C23.6409 7.60817 28.3385 6.27311 33.7065 5.39057C40.4491 4.28194 52.2378 3.33692 62.2256 3.10444C64.1632 3.05943 66.5789 2.99257 67.5938 2.95595C68.6088 2.919 74.0442 3.04028 79.6725 3.22471ZM53.1666 5.25015C42.3035 5.80513 34.0125 6.8674 32.2728 7.92665C31.739 8.25185 31.428 8.58712 31.5817 8.67178C31.8702 8.83102 32.6147 8.76585 43.9398 7.59137C52.6227 6.69069 74.5371 6.29461 83.6987 6.87244C90.0233 7.27121 101.605 8.14367 103.954 8.39798C104.669 8.47559 105.122 8.41344 104.961 8.25991C104.042 7.38275 97.7076 6.22675 90.0736 5.54276C84.9281 5.08217 60.2819 4.88631 53.1666 5.25015ZM27.8544 13.415C33.7642 14.8986 38.2591 15.5255 49.1403 16.3835C56.1718 16.9381 82.8499 16.9358 90.4091 16.3798C101.381 15.5732 111.274 14.055 114.91 12.6202L116.58 11.9611V18.6753C116.58 22.3681 116.535 25.3893 116.48 25.3893C116.425 25.3893 114.953 25.7014 113.209 26.083C100.992 28.7548 87.2623 29.8799 66.9228 29.8762C53.5772 29.8735 46.9776 29.5627 38.907 28.5562C32.9304 27.8111 26.0235 26.3554 23.9765 25.4094L23.1377 25.0217L23.1598 18.9065C23.1863 11.4884 23.1464 11.8425 23.912 12.2527C24.2455 12.4314 26.0198 12.9545 27.8544 13.415ZM27.0498 16.4658C27.9104 17.4001 39.3996 19.2424 48.3015 19.8737C49.4088 19.9523 52.1265 20.1569 54.3409 20.3282C59.7914 20.7501 84.3288 20.5513 88.7315 20.0494C94.6064 19.3795 99.5738 18.6484 100.746 18.2809C101.357 18.0898 102.07 17.9016 102.33 17.8633C102.591 17.825 102.909 17.6886 103.037 17.5603C103.166 17.4316 103.539 17.3265 103.866 17.3265C104.194 17.3265 104.563 17.1615 104.688 16.9596C104.94 16.5504 103.622 16.6482 95.0997 17.6732C78.9193 19.6183 54.6197 19.3969 38.236 17.1545C33.9018 16.5612 26.7311 16.1198 27.0498 16.4658ZM111.715 18.7119C110.423 18.8729 107.177 19.3822 104.501 19.8434C93.4143 21.7543 86.3329 22.361 72.4589 22.5874C65.0661 22.708 58.1054 22.6308 53.6698 22.3792C49.7946 22.1591 44.2082 21.9149 41.2557 21.8356C36.2162 21.7009 35.98 21.7217 37.3972 22.1762C39.8596 22.9664 45.5026 23.6618 52.831 24.078C61.5475 24.5736 82.3288 24.2793 89.012 23.5657C96.0253 22.8169 101.615 22.0822 104.669 21.507C107.941 20.8909 114.231 18.9834 114.231 18.6075C114.231 18.4573 114.193 18.3535 114.147 18.3767C114.101 18.4002 113.006 18.551 111.715 18.7119ZM25.846 24.0065C25.7446 24.1704 26 24.3804 26.413 24.4731C33.2398 26.0044 34.6886 26.2234 42.3837 26.8862C53.9144 27.88 61.2858 28.1585 71.3735 27.9814C86.4379 27.717 97.9348 26.3924 102.488 24.3962C103.559 23.9262 98.8863 24.1577 93.1802 24.8571C82.817 26.1273 81.2391 26.2167 69.1037 26.2231C52.4351 26.2311 52.1634 26.2177 35.7196 24.5679C28.0926 23.8022 26.0436 23.686 25.846 24.0065ZM22.9028 28.531C23.9157 29.0387 28.4405 30.2004 32.3242 30.9499C44.7293 33.3435 71.1171 33.9949 91.7512 32.4166C96.9816 32.0168 108.412 30.6136 110.576 30.106C111.387 29.9155 113.547 29.3961 115.378 28.951C118.149 28.2777 118.781 28.2173 119.153 28.5895C120.047 29.4851 119.61 30.0253 117.167 31.0416C109.315 34.3077 95.255 36.0711 74.6397 36.3754C58.5409 36.6133 46.9256 36.0214 36.5584 34.4347C28.3543 33.1792 20.9212 31.0581 20.1079 29.7401C19.8358 29.2994 20.88 28.0768 21.5289 28.0768C21.7862 28.0768 22.4042 28.2811 22.9028 28.531ZM30.5825 36.7712C47.6667 40.2782 79.2071 40.8264 101.194 37.9984C106.789 37.2788 112.996 36.0586 114.986 35.2873C115.513 35.083 115.573 35.3169 115.573 37.5731C115.573 40.0951 116.171 42.4978 117.008 43.3356C117.255 43.5822 118.127 44.5746 118.947 45.5405C119.767 46.506 121.11 47.7621 121.931 48.3312C124.129 49.8547 128.685 54.5345 130.325 56.9523C132.2 59.7175 133.639 62.9419 134.218 65.6772C134.61 67.5273 134.687 79.6725 134.692 140.302L134.698 212.717L133.729 214.246C132.499 216.188 131.746 216.896 128.725 218.952C117.42 226.645 92.7712 231.142 65.101 230.56C56.3429 230.376 54.2359 230.224 45.1141 229.118C27.3122 226.958 12.5135 221.712 7.23107 215.688C5.02638 213.173 5.18742 219.131 5.18742 140.088C5.18742 68.7925 5.19514 67.9469 5.86786 65.1599C6.24229 63.6094 6.99721 61.579 7.54545 60.6477C8.09402 59.7165 8.54261 58.8249 8.54261 58.6666C8.54261 57.6299 16.4431 48.9211 17.3943 48.9094C17.557 48.9073 18.8571 47.7339 20.2834 46.3021C23.4299 43.1431 24.312 41.4059 24.312 38.3693C24.312 35.2406 24.412 35.0783 25.9956 35.6377C26.7079 35.8893 28.772 36.3993 30.5825 36.7712ZM112.218 45.3137C112.218 45.4454 112.545 46.2507 112.945 47.103C113.704 48.7192 115.41 50.5491 121.291 56.0546C124.754 59.2976 126.457 61.5491 128.379 65.4279C130.601 69.9118 130.456 66.8231 130.706 114.752C130.834 139.223 131.07 158.918 131.245 159.769L131.557 161.28L131.869 158.593C132.046 157.071 132.181 137.404 132.181 113.24V70.5743L130.88 67.2149C130.165 65.3671 128.995 62.9688 128.28 61.8854C127.565 60.8019 126.981 59.8582 126.981 59.7884C126.981 59.1655 122.145 54.4297 118.702 51.6809C115.907 49.4492 114.345 47.9062 112.805 45.8552C112.482 45.4252 112.218 45.1817 112.218 45.3137ZM62.5611 196.606C55.6944 196.838 46.8914 197.525 43.4365 198.098C37.5582 199.072 34.3755 199.808 34.5825 200.143C34.6855 200.31 35.0211 200.37 35.3284 200.278C36.1189 200.041 51.9533 198.768 58.3671 198.426C65.8052 198.029 81.7098 198.275 89.4703 198.906C110.836 200.646 126.805 205.285 128.653 210.289C129.098 211.494 128.837 212.407 127.698 213.633C126.893 214.499 124.139 216.544 123.778 216.544C123.696 216.544 122.533 217.047 121.194 217.661C119.856 218.275 117.477 219.21 115.909 219.739C114.34 220.267 112.906 220.84 112.721 221.011C112.51 221.208 112.634 221.256 113.057 221.141C113.426 221.042 114.407 220.864 115.237 220.747C118.155 220.334 123.655 218.432 125.974 217.034C129.095 215.153 130.336 213.482 130.336 211.161C130.336 208.157 126.731 205.2 120.102 202.766C108.518 198.512 83.952 195.882 62.5611 196.606ZM12.3638 207.441C9.14486 209.407 9.11131 212.951 12.286 215.671C13.9424 217.091 17.6643 218.948 21.1245 220.081C24.2687 221.11 32.7301 223.095 35.3841 223.427C36.399 223.553 38.5128 223.862 40.0813 224.113C42.9416 224.57 44.4629 224.741 49.1403 225.13C50.5244 225.245 52.0342 225.411 52.4955 225.499C52.9569 225.587 59.1177 225.746 66.1857 225.852C77.234 226.019 79.7527 225.962 84.1359 225.447C86.9405 225.118 89.4613 224.723 89.7381 224.57C90.0149 224.417 83.2961 224.265 74.8075 224.233C66.3189 224.201 58.8452 224.136 58.1993 224.088C57.5535 224.04 55.5152 223.91 53.6698 223.798C35.3358 222.687 18.8407 218.943 13.5586 214.693C10.8104 212.482 10.5272 210.57 12.6114 208.306C14.1005 206.689 14.0253 206.427 12.3638 207.441Z" fill="#5C3B27"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M54.1731 0.0627647C53.1582 0.129618 50.063 0.341938 47.295 0.534772C32.0735 1.59469 21.8278 4.02696 20.2643 6.95206C20.0378 7.37569 19.9197 10.7688 19.9392 16.2971L19.969 24.977L18.3713 26.5103C16.9333 27.8901 16.7769 28.186 16.8105 29.468C16.8427 30.6888 17.0463 31.0718 18.2371 32.1512C19.0011 32.844 19.9254 33.5054 20.2908 33.6217C21.1799 33.9042 21.4232 35.0663 21.1859 37.899C20.9145 41.1409 19.7009 42.7786 14.4001 47.0566C11.1137 49.7092 6.19398 55.2232 6.19398 56.2542C6.19398 56.4316 6.07789 56.6268 5.9363 56.6886C5.53637 56.8623 3.67491 60.9081 2.7935 63.5194L2 65.8711V139.612V213.352L2.819 215.032C4.3493 218.171 9.33812 222.279 14.4467 224.608C27.3367 230.483 48.5753 234.024 70.7813 234C80.1248 233.989 90.9634 233.125 99.8036 231.685C119.786 228.429 133.218 222.54 136.993 215.38L137.885 213.688L137.973 140.868C138.047 79.2885 137.987 67.6973 137.588 65.778C136.889 62.4252 135.207 58.328 133.39 55.5544C131.683 52.9485 127.36 48.3154 125.135 46.7072C123.461 45.4971 120.63 42.6983 119.66 41.2951C119.034 40.3887 118.928 39.7759 118.928 37.0618V33.8884L120.542 32.8839C122.683 31.5509 123.51 29.9168 122.839 28.3416C122.581 27.7338 121.821 26.7586 121.152 26.1737L119.935 25.1108V16.2951V7.47984L118.596 6.20525C116.134 3.85932 107.548 1.80869 96.2807 0.875088C93.6972 0.661089 91.055 0.409127 90.4091 0.315398C89.009 0.112485 56.8274 -0.111929 54.1731 0.0627647ZM79.6725 3.22471C92.3447 3.64028 103.623 4.74152 110.372 6.22205C112.776 6.74948 116.244 7.99417 116.244 8.32979C116.244 9.33763 108.514 11.1511 100.307 12.0679C89.0103 13.3304 86.1212 13.4631 70.1102 13.4547C54.4372 13.4466 52.1972 13.3482 40.2491 12.1418C31.3961 11.2478 23.6409 9.43136 23.6409 8.25117C23.6409 7.60817 28.3385 6.27311 33.7065 5.39057C40.4491 4.28194 52.2378 3.33692 62.2256 3.10444C64.1632 3.05943 66.5789 2.99257 67.5938 2.95595C68.6088 2.919 74.0442 3.04028 79.6725 3.22471ZM53.1666 5.25015C42.3035 5.80513 34.0125 6.8674 32.2728 7.92665C31.739 8.25185 31.428 8.58712 31.5817 8.67178C31.8702 8.83102 32.6147 8.76585 43.9398 7.59137C52.6227 6.69069 74.5371 6.29461 83.6987 6.87244C90.0233 7.27121 101.605 8.14367 103.954 8.39798C104.669 8.47559 105.122 8.41344 104.961 8.25991C104.042 7.38275 97.7076 6.22675 90.0736 5.54276C84.9281 5.08217 60.2819 4.88631 53.1666 5.25015ZM27.8544 13.415C33.7642 14.8986 38.2591 15.5255 49.1403 16.3835C56.1718 16.9381 82.8499 16.9358 90.4091 16.3798C101.381 15.5732 111.274 14.055 114.91 12.6202L116.58 11.9611V18.6753C116.58 22.3681 116.535 25.3893 116.48 25.3893C116.425 25.3893 114.953 25.7014 113.209 26.083C100.992 28.7548 87.2623 29.8799 66.9228 29.8762C53.5772 29.8735 46.9776 29.5627 38.907 28.5562C32.9304 27.8111 26.0235 26.3554 23.9765 25.4094L23.1377 25.0217L23.1598 18.9065C23.1863 11.4884 23.1464 11.8425 23.912 12.2527C24.2455 12.4314 26.0198 12.9545 27.8544 13.415ZM27.0498 16.4658C27.9104 17.4001 39.3996 19.2424 48.3015 19.8737C49.4088 19.9523 52.1265 20.1569 54.3409 20.3282C59.7914 20.7501 84.3288 20.5513 88.7315 20.0494C94.6064 19.3795 99.5738 18.6484 100.746 18.2809C101.357 18.0898 102.07 17.9016 102.33 17.8633C102.591 17.825 102.909 17.6886 103.037 17.5603C103.166 17.4316 103.539 17.3265 103.866 17.3265C104.194 17.3265 104.563 17.1615 104.688 16.9596C104.94 16.5504 103.622 16.6482 95.0997 17.6732C78.9193 19.6183 54.6197 19.3969 38.236 17.1545C33.9018 16.5612 26.7311 16.1198 27.0498 16.4658ZM111.715 18.7119C110.423 18.8729 107.177 19.3822 104.501 19.8434C93.4143 21.7543 86.3329 22.361 72.4589 22.5874C65.0661 22.708 58.1054 22.6308 53.6698 22.3792C49.7946 22.1591 44.2082 21.9149 41.2557 21.8356C36.2162 21.7009 35.98 21.7217 37.3972 22.1762C39.8596 22.9664 45.5026 23.6618 52.831 24.078C61.5475 24.5736 82.3288 24.2793 89.012 23.5657C96.0253 22.8169 101.615 22.0822 104.669 21.507C107.941 20.8909 114.231 18.9834 114.231 18.6075C114.231 18.4573 114.193 18.3535 114.147 18.3767C114.101 18.4002 113.006 18.551 111.715 18.7119ZM25.846 24.0065C25.7446 24.1704 26 24.3804 26.413 24.4731C33.2398 26.0044 34.6886 26.2234 42.3837 26.8862C53.9144 27.88 61.2858 28.1585 71.3735 27.9814C86.4379 27.717 97.9348 26.3924 102.488 24.3962C103.559 23.9262 98.8863 24.1577 93.1802 24.8571C82.817 26.1273 81.2391 26.2167 69.1037 26.2231C52.4351 26.2311 52.1634 26.2177 35.7196 24.5679C28.0926 23.8022 26.0436 23.686 25.846 24.0065ZM22.9028 28.531C23.9157 29.0387 28.4405 30.2004 32.3242 30.9499C44.7293 33.3435 71.1171 33.9949 91.7512 32.4166C96.9816 32.0168 108.412 30.6136 110.576 30.106C111.387 29.9155 113.547 29.3961 115.378 28.951C118.149 28.2777 118.781 28.2173 119.153 28.5895C120.047 29.4851 119.61 30.0253 117.167 31.0416C109.315 34.3077 95.255 36.0711 74.6397 36.3754C58.5409 36.6133 46.9256 36.0214 36.5584 34.4347C28.3543 33.1792 20.9212 31.0581 20.1079 29.7401C19.8358 29.2994 20.88 28.0768 21.5289 28.0768C21.7862 28.0768 22.4042 28.2811 22.9028 28.531ZM30.5825 36.7712C47.6667 40.2782 79.2071 40.8264 101.194 37.9984C106.789 37.2788 112.996 36.0586 114.986 35.2873C115.513 35.083 115.573 35.3169 115.573 37.5731C115.573 40.0951 116.171 42.4978 117.008 43.3356C117.255 43.5822 118.127 44.5746 118.947 45.5405C119.767 46.506 121.11 47.7621 121.931 48.3312C124.129 49.8547 128.685 54.5345 130.325 56.9523C132.2 59.7175 133.639 62.9419 134.218 65.6772C134.61 67.5273 134.687 79.6725 134.692 140.302L134.698 212.717L133.729 214.246C132.499 216.188 131.746 216.896 128.725 218.952C117.42 226.645 92.7712 231.142 65.101 230.56C56.3429 230.376 54.2359 230.224 45.1141 229.118C27.3122 226.958 12.5135 221.712 7.23107 215.688C5.02638 213.173 5.18742 219.131 5.18742 140.088C5.18742 68.7925 5.19514 67.9469 5.86786 65.1599C6.24229 63.6094 6.99721 61.579 7.54545 60.6477C8.09402 59.7165 8.54261 58.8249 8.54261 58.6666C8.54261 57.6299 16.4431 48.9211 17.3943 48.9094C17.557 48.9073 18.8571 47.7339 20.2834 46.3021C23.4299 43.1431 24.312 41.4059 24.312 38.3693C24.312 35.2406 24.412 35.0783 25.9956 35.6377C26.7079 35.8893 28.772 36.3993 30.5825 36.7712ZM112.218 45.3137C112.218 45.4454 112.545 46.2507 112.945 47.103C113.704 48.7192 115.41 50.5491 121.291 56.0546C124.754 59.2976 126.457 61.5491 128.379 65.4279C130.601 69.9118 130.456 66.8231 130.706 114.752C130.834 139.223 131.07 158.918 131.245 159.769L131.557 161.28L131.869 158.593C132.046 157.071 132.181 137.404 132.181 113.24V70.5743L130.88 67.2149C130.165 65.3671 128.995 62.9688 128.28 61.8854C127.565 60.8019 126.981 59.8582 126.981 59.7884C126.981 59.1655 122.145 54.4297 118.702 51.6809C115.907 49.4492 114.345 47.9062 112.805 45.8552C112.482 45.4252 112.218 45.1817 112.218 45.3137ZM62.5611 196.606C55.6944 196.838 46.8914 197.525 43.4365 198.098C37.5582 199.072 34.3755 199.808 34.5825 200.143C34.6855 200.31 35.0211 200.37 35.3284 200.278C36.1189 200.041 51.9533 198.768 58.3671 198.426C65.8052 198.029 81.7098 198.275 89.4703 198.906C110.836 200.646 126.805 205.285 128.653 210.289C129.098 211.494 128.837 212.407 127.698 213.633C126.893 214.499 124.139 216.544 123.778 216.544C123.696 216.544 122.533 217.047 121.194 217.661C119.856 218.275 117.477 219.21 115.909 219.739C114.34 220.267 112.906 220.84 112.721 221.011C112.51 221.208 112.634 221.256 113.057 221.141C113.426 221.042 114.407 220.864 115.237 220.747C118.155 220.334 123.655 218.432 125.974 217.034C129.095 215.153 130.336 213.482 130.336 211.161C130.336 208.157 126.731 205.2 120.102 202.766C108.518 198.512 83.952 195.882 62.5611 196.606ZM12.3638 207.441C9.14487 209.407 9.11131 212.951 12.286 215.671C13.9424 217.091 17.6643 218.948 21.1245 220.081C24.2687 221.11 32.7301 223.095 35.3841 223.427C36.399 223.553 38.5128 223.862 40.0813 224.113C42.9416 224.57 44.4629 224.741 49.1403 225.13C50.5244 225.245 52.0342 225.411 52.4955 225.499C52.9569 225.587 59.1177 225.746 66.1857 225.852C77.234 226.019 79.7527 225.962 84.1359 225.447C86.9405 225.118 89.4613 224.723 89.7381 224.57C90.0149 224.417 83.2961 224.265 74.8075 224.233C66.3189 224.201 58.8452 224.136 58.1993 224.088C57.5535 224.04 55.5152 223.91 53.6698 223.798C35.3358 222.687 18.8407 218.943 13.5586 214.693C10.8104 212.482 10.5272 210.57 12.6114 208.306C14.1005 206.689 14.0253 206.427 12.3638 207.441Z" fill="url(#paint0_radial_63_216)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M30.5825 36.7712C47.6667 40.2782 79.2071 40.8264 101.194 37.9984C106.789 37.2788 112.996 36.0586 114.986 35.2873C115.513 35.083 115.573 35.3169 115.573 37.5731C115.573 40.0951 116.171 42.4978 117.008 43.3356C117.255 43.5822 118.127 44.5746 118.947 45.5405C119.767 46.506 121.11 47.7621 121.931 48.3312C124.129 49.8547 128.685 54.5345 130.325 56.9523C132.2 59.7175 133.639 62.9419 134.218 65.6772C134.61 67.5273 134.687 79.6725 134.692 140.302L134.698 212.717L133.729 214.246C132.499 216.188 131.746 216.896 128.725 218.952C117.42 226.645 92.7712 231.142 65.101 230.56C56.3429 230.376 54.2359 230.224 45.1141 229.118C27.3122 226.958 12.5135 221.712 7.23107 215.688C5.02638 213.173 5.18742 219.131 5.18742 140.088C5.18742 68.7925 5.19514 67.9469 5.86786 65.1599C6.24229 63.6094 6.99721 61.579 7.54545 60.6477C8.09402 59.7165 8.54261 58.8249 8.54261 58.6666C8.54261 57.6299 16.4431 48.9211 17.3943 48.9094C17.557 48.9073 18.8571 47.7339 20.2834 46.3021C23.4299 43.1431 24.312 41.4059 24.312 38.3693C24.312 35.2406 24.412 35.0783 25.9956 35.6377C26.7079 35.8893 28.772 36.3993 30.5825 36.7712ZM112.945 47.103C112.545 46.2507 112.218 45.4454 112.218 45.3137C112.218 45.1817 112.482 45.4252 112.805 45.8552C114.345 47.9062 115.907 49.4492 118.702 51.6809C122.145 54.4297 126.981 59.1655 126.981 59.7884C126.981 59.8582 127.565 60.8019 128.28 61.8854C128.995 62.9688 130.165 65.3671 130.88 67.2149L132.181 70.5743V113.24C132.181 137.404 132.046 157.071 131.869 158.593L131.557 161.28L131.245 159.769C131.07 158.918 130.834 139.223 130.706 114.752C130.456 66.8231 130.601 69.9118 128.379 65.4279C126.457 61.5491 124.754 59.2976 121.291 56.0546C115.41 50.5491 113.704 48.7192 112.945 47.103ZM43.4365 198.098C46.8914 197.525 55.6944 196.838 62.5611 196.606C83.952 195.882 108.518 198.512 120.102 202.766C126.731 205.2 130.336 208.157 130.336 211.161C130.336 213.482 129.095 215.153 125.974 217.034C123.655 218.432 118.155 220.334 115.237 220.747C114.407 220.864 113.426 221.042 113.057 221.141C112.634 221.256 112.51 221.208 112.721 221.011C112.906 220.84 114.34 220.267 115.909 219.739C117.477 219.21 119.856 218.275 121.194 217.661C122.533 217.047 123.696 216.544 123.778 216.544C124.139 216.544 126.893 214.499 127.698 213.633C128.837 212.407 129.098 211.494 128.653 210.289C126.805 205.285 110.836 200.646 89.4703 198.906C81.7098 198.275 65.8052 198.029 58.3671 198.426C51.9533 198.768 36.1189 200.041 35.3284 200.278C35.0211 200.37 34.6855 200.31 34.5825 200.143C34.3755 199.808 37.5582 199.072 43.4365 198.098ZM12.286 215.671C9.11131 212.951 9.14487 209.407 12.3638 207.441C14.0253 206.427 14.1005 206.689 12.6114 208.306C10.5272 210.57 10.8104 212.482 13.5586 214.693C18.8407 218.943 35.3358 222.687 53.6698 223.798C55.5152 223.91 57.5535 224.04 58.1993 224.088C58.8452 224.136 66.3189 224.201 74.8075 224.233C83.2961 224.265 90.0149 224.417 89.7381 224.57C89.4613 224.723 86.9405 225.118 84.1359 225.447C79.7527 225.962 77.234 226.019 66.1857 225.852C59.1177 225.746 52.9569 225.587 52.4955 225.499C52.0342 225.411 50.5244 225.245 49.1403 225.13C44.4629 224.741 42.9416 224.57 40.0813 224.113C38.5128 223.862 36.399 223.553 35.3841 223.427C32.7301 223.095 24.2687 221.11 21.1245 220.081C17.6643 218.948 13.9424 217.091 12.286 215.671Z" fill="url(#paint1_radial_63_216)"/>
<path d="M22.9028 28.531C23.9157 29.0387 28.4405 30.2004 32.3242 30.9499C44.7293 33.3435 71.1171 33.9949 91.7512 32.4166C96.9816 32.0168 108.412 30.6136 110.576 30.106C111.387 29.9155 113.547 29.3961 115.378 28.951C118.149 28.2777 118.781 28.2173 119.153 28.5895C120.047 29.4851 119.61 30.0253 117.167 31.0416C109.315 34.3077 95.255 36.0711 74.6397 36.3754C58.5409 36.6133 46.9256 36.0214 36.5584 34.4347C28.3543 33.1792 20.9212 31.0581 20.1079 29.7401C19.8358 29.2994 20.88 28.0768 21.5289 28.0768C21.7862 28.0768 22.4042 28.2811 22.9028 28.531Z" fill="url(#paint2_radial_63_216)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M27.8544 13.415C33.7642 14.8986 38.2591 15.5255 49.1403 16.3835C56.1718 16.9381 82.8499 16.9358 90.4091 16.3798C101.381 15.5732 111.274 14.055 114.91 12.6202L116.58 11.9611V18.6753C116.58 22.3681 116.535 25.3893 116.48 25.3893C116.425 25.3893 114.953 25.7014 113.209 26.083C100.992 28.7548 87.2623 29.8799 66.9228 29.8762C53.5772 29.8735 46.9776 29.5627 38.907 28.5562C32.9304 27.8111 26.0235 26.3554 23.9765 25.4094L23.1377 25.0217L23.1598 18.9065C23.1863 11.4884 23.1464 11.8425 23.912 12.2527C24.2455 12.4314 26.0198 12.9545 27.8544 13.415ZM48.3015 19.8737C39.3996 19.2424 27.9104 17.4001 27.0498 16.4658C26.7311 16.1198 33.9018 16.5612 38.236 17.1545C54.6197 19.3969 78.9193 19.6183 95.0997 17.6732C103.622 16.6482 104.94 16.5504 104.688 16.9596C104.563 17.1615 104.194 17.3265 103.866 17.3265C103.539 17.3265 103.166 17.4316 103.037 17.5603C102.909 17.6886 102.591 17.825 102.33 17.8633C102.07 17.9016 101.357 18.0898 100.746 18.2809C99.5738 18.6484 94.6064 19.3795 88.7315 20.0494C84.3288 20.5513 59.7914 20.7501 54.3409 20.3282C52.1265 20.1569 49.4088 19.9523 48.3015 19.8737ZM104.501 19.8434C107.177 19.3822 110.423 18.8729 111.715 18.7119C113.006 18.551 114.101 18.4002 114.147 18.3767C114.193 18.3535 114.231 18.4573 114.231 18.6075C114.231 18.9834 107.941 20.8909 104.669 21.507C101.615 22.0822 96.0253 22.8169 89.012 23.5657C82.3288 24.2793 61.5475 24.5736 52.831 24.078C45.5026 23.6618 39.8596 22.9664 37.3972 22.1762C35.98 21.7217 36.2162 21.7009 41.2557 21.8356C44.2082 21.9149 49.7946 22.1591 53.6698 22.3792C58.1054 22.6308 65.0661 22.708 72.4589 22.5874C86.3329 22.361 93.4143 21.7543 104.501 19.8434ZM26.413 24.4731C26 24.3804 25.7446 24.1704 25.846 24.0065C26.0436 23.686 28.0926 23.8022 35.7196 24.5679C52.1634 26.2177 52.4351 26.2311 69.1037 26.2231C81.2391 26.2167 82.817 26.1273 93.1802 24.8571C98.8863 24.1577 103.559 23.9262 102.488 24.3962C97.9348 26.3924 86.4379 27.717 71.3735 27.9814C61.2858 28.1585 53.9144 27.88 42.3837 26.8862C34.6886 26.2234 33.2398 26.0044 26.413 24.4731Z" fill="url(#paint3_radial_63_216)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M79.6725 3.22471C92.3447 3.64028 103.623 4.74152 110.372 6.22205C112.776 6.74948 116.244 7.99417 116.244 8.32979C116.244 9.33763 108.514 11.1511 100.307 12.0679C89.0103 13.3304 86.1212 13.4631 70.1102 13.4547C54.4372 13.4466 52.1972 13.3482 40.2491 12.1418C31.3961 11.2478 23.6409 9.43136 23.6409 8.25117C23.6409 7.60817 28.3385 6.27311 33.7065 5.39057C40.4491 4.28194 52.2378 3.33692 62.2256 3.10444C64.1632 3.05943 66.5789 2.99257 67.5938 2.95595C68.6088 2.919 74.0442 3.04028 79.6725 3.22471ZM32.2728 7.92665C34.0125 6.8674 42.3035 5.80513 53.1666 5.25015C60.2819 4.88631 84.9281 5.08217 90.0736 5.54276C97.7076 6.22675 104.042 7.38275 104.961 8.25991C105.122 8.41344 104.669 8.47559 103.954 8.39798C101.605 8.14367 90.0233 7.27121 83.6987 6.87244C74.5371 6.29461 52.6227 6.69069 43.9398 7.59137C32.6147 8.76585 31.8702 8.83102 31.5817 8.67178C31.428 8.58712 31.739 8.25185 32.2728 7.92665Z" fill="url(#paint4_radial_63_216)"/>
<path d="M127 204.971L64.6589 217.593C63.3334 217.862 61.9673 217.858 60.6431 217.584L28 210.812L74.1546 188.809C76.582 187.652 79.373 187.521 81.8979 188.446L127 204.971Z" fill="#FFD295"/>
<path d="M28 210.812L80.5669 194.171C82.3844 193.596 84.3284 193.552 86.17 194.045L127 204.971M28 210.812L60.6431 217.584C61.9673 217.858 63.3334 217.862 64.6589 217.593L127 204.971M28 210.812L74.1546 188.809C76.582 187.652 79.373 187.521 81.8979 188.446L127 204.971" stroke="#815439" stroke-width="2"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M127 204.971L81.8979 188.446C79.373 187.521 76.582 187.652 74.1546 188.809L28 210.812L80.5669 194.171C82.3844 193.596 84.3284 193.552 86.17 194.045L127 204.971Z" fill="#CCA775"/>
<path d="M28 210.812L80.5669 194.171C82.3844 193.596 84.3284 193.552 86.17 194.045L127 204.971M28 210.812L60.6431 217.584M28 210.812L74.1546 188.809M127 204.971L64.6589 217.593M127 204.971L81.8979 188.446M64.6589 217.593C63.3334 217.862 61.9673 217.858 60.6431 217.584M64.6589 217.593C63.3334 217.862 61.9673 217.858 60.6431 217.584M74.1546 188.809C76.582 187.652 79.373 187.521 81.8979 188.446M74.1546 188.809C76.582 187.652 79.373 187.521 81.8979 188.446" stroke="#815439" stroke-width="2"/>
<path d="M82.711 138.707L47.5544 191.715C46.807 192.842 45.8386 193.805 44.7081 194.547L16.8373 212.841L33.9156 164.647C34.8138 162.112 36.6949 160.046 39.1344 158.915L82.711 138.707Z" fill="#FFD295"/>
<path d="M16.8373 212.841L42.241 163.904C43.1193 162.212 44.463 160.806 46.1136 159.852L82.711 138.707M16.8373 212.841L44.7081 194.547C45.8386 193.805 46.807 192.842 47.5544 191.715L82.711 138.707M16.8373 212.841L33.9156 164.647C34.8138 162.112 36.6949 160.046 39.1344 158.915L82.711 138.707" stroke="#815439" stroke-width="2"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M82.711 138.707L39.1344 158.915C36.6949 160.046 34.8138 162.112 33.9156 164.647L16.8373 212.841L42.241 163.904C43.1193 162.212 44.463 160.806 46.1136 159.852L82.711 138.707Z" fill="#CCA775"/>
<path d="M16.8373 212.841L42.241 163.904C43.1193 162.212 44.463 160.806 46.1136 159.852L82.711 138.707M16.8373 212.841L44.7081 194.547M16.8373 212.841L33.9156 164.647M82.711 138.707L47.5544 191.715M82.711 138.707L39.1344 158.915M47.5544 191.715C46.807 192.842 45.8386 193.805 44.7081 194.547M47.5544 191.715C46.807 192.842 45.8386 193.805 44.7081 194.547M33.9156 164.647C34.8138 162.112 36.6949 160.046 39.1344 158.915M33.9156 164.647C34.8138 162.112 36.6949 160.046 39.1344 158.915" stroke="#815439" stroke-width="2"/>
<path d="M127 196.971L64.6589 209.593C63.3334 209.862 61.9673 209.858 60.6431 209.584L28 202.812L74.1546 180.809C76.582 179.652 79.373 179.521 81.8979 180.446L127 196.971Z" fill="#FFD295"/>
<path d="M28 202.812L80.5669 186.171C82.3844 185.596 84.3284 185.552 86.17 186.045L127 196.971M28 202.812L60.6431 209.584C61.9673 209.858 63.3334 209.862 64.6589 209.593L127 196.971M28 202.812L74.1546 180.809C76.582 179.652 79.373 179.521 81.8979 180.446L127 196.971" stroke="#815439" stroke-width="2"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M127 196.971L81.8979 180.446C79.373 179.521 76.582 179.652 74.1546 180.809L28 202.812L80.5669 186.171C82.3844 185.596 84.3284 185.552 86.17 186.045L127 196.971Z" fill="#CCA775"/>
<path d="M28 202.812L80.5669 186.171C82.3844 185.596 84.3284 185.552 86.17 186.045L127 196.971M28 202.812L60.6431 209.584M28 202.812L74.1546 180.809M127 196.971L64.6589 209.593M127 196.971L81.8979 180.446M64.6589 209.593C63.3334 209.862 61.9673 209.858 60.6431 209.584M64.6589 209.593C63.3334 209.862 61.9673 209.858 60.6431 209.584M74.1546 180.809C76.582 179.652 79.373 179.521 81.8979 180.446M74.1546 180.809C76.582 179.652 79.373 179.521 81.8979 180.446" stroke="#815439" stroke-width="2"/>
<path d="M112 184.971L49.6589 197.593C48.3334 197.862 46.9673 197.858 45.6431 197.584L13 190.812L59.1546 168.809C61.582 167.652 64.373 167.521 66.8979 168.446L112 184.971Z" fill="#FFD295"/>
<path d="M13 190.812L65.5669 174.171C67.3844 173.596 69.3284 173.552 71.17 174.045L112 184.971M13 190.812L45.6431 197.584C46.9673 197.858 48.3334 197.862 49.6589 197.593L112 184.971M13 190.812L59.1546 168.809C61.582 167.652 64.373 167.521 66.8979 168.446L112 184.971" stroke="#815439" stroke-width="2"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M112 184.971L66.8979 168.446C64.373 167.521 61.582 167.652 59.1546 168.809L13 190.812L65.5669 174.171C67.3844 173.596 69.3284 173.552 71.17 174.045L112 184.971Z" fill="#CCA775"/>
<path d="M13 190.812L65.5669 174.171C67.3844 173.596 69.3284 173.552 71.17 174.045L112 184.971M13 190.812L45.6431 197.584M13 190.812L59.1546 168.809M112 184.971L49.6589 197.593M112 184.971L66.8979 168.446M49.6589 197.593C48.3334 197.862 46.9673 197.858 45.6431 197.584M49.6589 197.593C48.3334 197.862 46.9673 197.858 45.6431 197.584M59.1546 168.809C61.582 167.652 64.373 167.521 66.8979 168.446M59.1546 168.809C61.582 167.652 64.373 167.521 66.8979 168.446" stroke="#815439" stroke-width="2"/>
<path d="M23.075 117C22.9716 114.804 22.9764 112.195 23.1495 109.417C22.7138 88.8638 16.7939 83.4849 13.32 83.4386C13.2143 83.446 13.1077 83.4497 13 83.4497C13.1041 83.4409 13.2109 83.4371 13.32 83.4386C19.5963 83 22.4358 69.7037 23.075 63C25.9287 78.8137 34.844 83.2174 38.9728 83.4482C38.9819 83.4487 38.9909 83.4492 39 83.4497C38.991 83.4492 38.9819 83.4488 38.9728 83.4482C27.6348 82.8529 23.8828 97.6539 23.1495 109.417C23.1989 111.745 23.1779 114.268 23.075 117Z" fill="#FFF3E4"/>
<path d="M113.037 193C112.986 191.942 112.988 190.686 113.075 189.349C112.857 179.453 109.897 176.863 108.16 176.841C108.107 176.844 108.054 176.846 108 176.846C108.052 176.842 108.105 176.84 108.16 176.841C111.298 176.63 112.718 170.228 113.037 167C114.464 174.613 118.921 176.734 120.986 176.845C120.991 176.846 120.995 176.846 121 176.846C120.995 176.846 120.991 176.846 120.986 176.845C115.317 176.559 113.441 183.685 113.075 189.349C113.099 190.47 113.089 191.685 113.037 193Z" fill="#FFF3E4"/>
<path d="M31.0375 132C30.9858 130.942 30.9882 129.686 31.0748 128.349C30.8569 118.453 27.897 115.863 26.16 115.841C26.1072 115.844 26.0538 115.846 26 115.846C26.052 115.842 26.1054 115.84 26.16 115.841C29.2981 115.63 30.7179 109.228 31.0375 106C32.4642 113.613 36.9211 115.734 38.9858 115.845C38.9905 115.846 38.9953 115.846 39 115.846C38.9953 115.846 38.9905 115.846 38.9858 115.845C33.3173 115.559 31.4414 122.685 31.0748 128.349C31.0995 129.47 31.089 130.685 31.0375 132Z" fill="#FFF3E4"/>
<defs>
<radialGradient id="paint0_radial_63_216" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(70 117) rotate(90) scale(117 68)">
<stop stop-color="#5C3B27" stop-opacity="0"/>
<stop offset="1" stop-color="#F78E00" stop-opacity="0.14"/>
</radialGradient>
<radialGradient id="paint1_radial_63_216" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(70 117) rotate(90) scale(117 68)">
<stop stop-color="#5C3B27" stop-opacity="0"/>
<stop offset="1" stop-color="#F78E00" stop-opacity="0.14"/>
</radialGradient>
<radialGradient id="paint2_radial_63_216" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(70 117) rotate(90) scale(117 68)">
<stop stop-color="#5C3B27" stop-opacity="0"/>
<stop offset="1" stop-color="#F78E00" stop-opacity="0.14"/>
</radialGradient>
<radialGradient id="paint3_radial_63_216" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(70 117) rotate(90) scale(117 68)">
<stop stop-color="#5C3B27" stop-opacity="0"/>
<stop offset="1" stop-color="#F78E00" stop-opacity="0.14"/>
</radialGradient>
<radialGradient id="paint4_radial_63_216" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(70 117) rotate(90) scale(117 68)">
<stop stop-color="#5C3B27" stop-opacity="0"/>
<stop offset="1" stop-color="#F78E00" stop-opacity="0.14"/>
</radialGradient>
</defs>
</svg>

        </div>

        {/* Sticky Note Group with CSS Animation */}
        <div
          id="sticky-note-group"
          className={`absolute left-[120px] top-[82px] ${isAnimating ? 'note-flying' : ''}`}
        >
          {/* Sticky Note */}
          <div className="absolute bg-[#ffd295] h-[299px] left-0 overflow-clip shadow-[-5px_5px_4px_0px_rgba(83,46,24,0.25)] top-[20px] w-[467px]">
            <p className="absolute font-['Playpen_Sans',sans-serif] font-medium leading-[normal] left-[167px] text-[#5c3b27] text-[18px] top-[17px]">
              Kitty's Logbook
            </p>
            <textarea
              value={logbookText}
              onChange={(e) => setLogbookText(e.target.value)}
              className="absolute left-[21px] top-[66px] w-[425px] h-[210px] bg-transparent font-['Playpen_Sans',sans-serif] font-normal text-[#915633] text-[18px] leading-[40px] resize-none outline-none"
              placeholder="Write your wins here..."
              style={{ paddingLeft: '27px' }}
            />
          </div>

          {/* Send to Jar Button */}
          <button
            onClick={handleSendToJar}
            disabled={!logbookText.trim() || isAnimating}
            className="absolute left-[441px] size-[51px] top-0 cursor-pointer hover:scale-110 transition-transform disabled:opacity-50 disabled:cursor-not-allowed z-20"
            title="Send to Memory Jar"
          >
            <div className="absolute inset-[-15.1%_-22.94%_-30.78%_-22.94%]">
              <svg className="block size-full" fill="none" preserveAspectRatio="none" viewBox="0 0 74.4 74.4">
                <g>
                  <g filter="url(#filter0_d_1_89)">
                    <circle cx="37.2" cy="33.2" fill="var(--fill-0, #FFFAF3)" r="25.5" />
                  </g>
                  <g clipPath="url(#clip0_1_89)">
                    <path d={svgPaths.p2e02d280} fill="var(--fill-0, #815439)" />
                  </g>
                </g>
                <defs>
                  <filter colorInterpolationFilters="sRGB" filterUnits="userSpaceOnUse" height="74.4" id="filter0_d_1_89" width="74.4" x="0" y="0">
                    <feFlood floodOpacity="0" result="BackgroundImageFix" />
                    <feColorMatrix in="SourceAlpha" result="hardAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" />
                    <feOffset dy="4" />
                    <feGaussianBlur stdDeviation="5.85" />
                    <feComposite in2="hardAlpha" operator="out" />
                    <feColorMatrix type="matrix" values="0 0 0 0 0.592529 0 0 0 0 0.403636 0 0 0 0 0.19113 0 0 0 0.27 0" />
                    <feBlend in2="BackgroundImageFix" mode="normal" result="effect1_dropShadow_1_89" />
                    <feBlend in="SourceGraphic" in2="effect1_dropShadow_1_89" mode="normal" result="shape" />
                  </filter>
                  <clipPath id="clip0_1_89">
                    <rect fill="white" height="24" transform="translate(20.7293 32.7) rotate(-45)" width="24" />
                  </clipPath>
                </defs>
              </svg>
            </div>
          </button>
        </div>
      </div>
    </DndProvider>
  );
}
